---
import Layout from '@/layouts/Auth.astro'
import { ViewTransitions } from 'astro:transitions';

import { AuthPage } from '@/components/auth-page'
// Get the session from the request
import { getSession } from "auth-astro/server"
let session = await getSession(Astro.request)
if (session) return Astro.redirect("/dashboard")
---
<Layout
    title="Login"
>
    <ViewTransitions />
    <AuthPage client:only />
</Layout>